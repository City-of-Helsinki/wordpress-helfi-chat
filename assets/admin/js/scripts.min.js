"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}wp.domReady(function(){var e=wp.components,a=e.FormTokenField,s=(e.CustomSelectControl,wp.element.useState),l=wp.i18n.__;function t(e){!function(){for(var e=document.getElementsByClassName("helsinki-chat-settings-section "),t=0;t<e.length;t++)e[t].style.display="none"}();e=e.value,e=document.getElementsByClassName("helsinki-chat-section-chat-"+e)[0];void 0!==e&&(e.style.display="block")}var n,h=function(e){var t=e.id,n=e.selectedOptionsNames,r=e.optionsValues,i=e.optionsNames,e=_slicedToArray(s(n),2),n=e[0],o=e[1];return React.createElement(a,{label:l("Add a new page","helsinki-chat"),id:t+"-control",suggestions:i,maxSuggestions:10,value:n,__experimentalShowHowTo:!1,__nextHasNoMarginBottom:!0,onChange:function(e){var n=[],a=[];e.map(function(e){var t=i.indexOf(e);-1!==t&&(n.push(r[t]),a.push(e))}),e=n,document.getElementById("chat-pages").value=e,o(a)}})};"helsinki-chat-settings"===new URLSearchParams(window.location.search).get("page")&&((e=document.getElementById("chat-selection")).onchange=function(){t(this)},function(e,t){for(var n=[],a=0;a<window.helsinkiChatSettings.pages.length;a++)n.push({label:window.helsinkiChatSettings.pages[a].title,value:window.helsinkiChatSettings.pages[a].id});for(var r=[],i=[],o=0;o<window.helsinkiChatSettings.pages.length;o++)r.push(window.helsinkiChatSettings.pages[o].title),i.push(window.helsinkiChatSettings.pages[o].id);for(var s=[],l=0;l<t.length;l++){var c=i.indexOf(parseInt(t[l]));-1!==c&&s.push(r[c])}var u=React.createElement(h,{id:e,selectedOptionsNames:s,optionsValues:i,optionsNames:r});wp.element.createRoot(document.getElementById(e+"-controller")).render(u)}("chat-pages",document.getElementById("chat-pages").value.split(",")),(n=document.getElementById("chat-visibility")).addEventListener("change",function(){for(var e=document.getElementsByClassName("helsinki-chat-settings-chat-pages"),t=0;t<e.length;t++)"selected"===n.value?e[t].style.display="table-row":e[t].style.display="none"}),n.dispatchEvent(new Event("change")),t(e))});