"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}wp.domReady(function(){var e=wp.components,r=e.FormTokenField,t=(e.CustomSelectControl,wp.element),n=t.createRoot,l=t.createElement,s=t.useState,c=wp.i18n.__;function a(e){!function(){for(var e=document.getElementsByClassName("helsinki-chat-settings-section "),t=0;t<e.length;t++)e[t].style.display="none"}();e=e.value,e=document.getElementsByClassName("helsinki-chat-section-chat-"+e)[0];void 0!==e&&(e.style.display="block")}var o,i,u,d,h,y,m,p,g=function(e){var t=e.id,n=e.selectedOptionsNames,a=e.optionsValues,o=e.optionsNames,e=_slicedToArray(s(n),2),n=e[0],i=e[1];return l(r,{label:c("Add a new page","helsinki-chat"),id:t+"-control",suggestions:o,maxSuggestions:10,value:n,__experimentalShowHowTo:!1,__nextHasNoMarginBottom:!0,onChange:function(e){var n=[],r=[];e.map(function(e){var t=o.indexOf(e);-1!==t&&(n.push(a[t]),r.push(e))}),e=n,document.getElementById("chat-pages").value=e,i(r)}})};o=helsinkiChatSettings,p=o.pages,"helsinki-chat-settings"===new URLSearchParams(window.location.search).get("page")&&((e=document.getElementById("chat-selection")).onchange=function(){a(this)},t={id:"chat-pages",pages:p||[],selected:document.getElementById("chat-pages").value.split(",").filter(function(e){return""!==e}).map(function(e){return parseInt(e,10)})},o=t.id,p=t.pages,u=t.selected,d=[],h=[],y=[],m=[],p.forEach(function(e){var t=e.id,e=e.title;d.push({label:e,value:t}),h.push(e),y.push(t),u.includes(t)&&m.push(e)}),n(document.getElementById(o+"-controller")).render(l(g,{id:o,selectedOptionsNames:m,optionsValues:y,optionsNames:h})),(i=document.getElementById("chat-visibility")).addEventListener("change",function(){for(var e=document.getElementsByClassName("helsinki-chat-settings-chat-pages"),t=0;t<e.length;t++)"selected"===i.value?e[t].style.display="table-row":e[t].style.display="none"}),i.dispatchEvent(new Event("change")),a(e))});